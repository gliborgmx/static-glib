+++
title = "La CPEUM en GitHub y mis pininos con la IA Generativa"
slug = "20260124141943218"
date = "2026-01-24T14:19:46.351102+01:00"
[taxonomies]
autor = ["Víctor Manuel Jáquez Leal"]
tema = ["articulos"]
+++

El objetivo de este artículo es compartir cómo empecé a usar IA generativa en un
proyecto personal: mantener la [Constitución Política de los Estados Unidos
Mexicanos](http://www.diputados.gob.mx/LeyesBiblio/ref/cpeum_crono.htm) (CPEUM)
en un repositorio con control de versiones.

Hace más de 12 años inicié un proyecto para guardar la CPEUM en un repositorio
Git. Las constituciones cambian (la mexicana con más frecuencia que muchas
otras) y, al igual que el software, son texto. Por eso podemos registrar sus
modificaciones como en el software: con un sistema de control de versiones como
Git. Me di a la tarea de registrar cada cambio constitucional desde el 8 de
julio de 1921, cuando el presidente Álvaro Obregón hizo la primera reforma a la
Constitución de 1917. Desde entonces ha habido 278 reformas, y cada una es un
*commit* que refleja cómo cambió el texto.

## Detalles técnicos

En su momento, elegí
[reStructuredText](https://docutils.sourceforge.io/rst.html) para codificar el
texto de la CPEUM. Es un formato de texto plano, popular en Python y anterior a
Markdown. Lo escogí porque había migrado [mi blog](https://www.ceyusa.com) a
Pelican, un generador estático que usa reStructuredText, y me sentía cómodo con
él. Los textos en este formato pueden convertirse a HTML, LaTeX, OpenOffice,
etc., usando [Docutils](https://docutils.sourceforge.io/README.html), hecho en
Python.

Añadí el repositorio
[constitución-mexicana](https://github.com/ceyusa/constitucion-mexicana) en mi
cuenta de GitHub, donde es público. Usando integración continua en GitHub,
configuré que cada cambio generara automáticamente una página HTML con la última
versión de la CPEUM, publicada en
<https://ceyusa.github.io/constitucion-mexicana/>.

Sin embargo, no estaba satisfecho con la página HTML generada, porque no ofrecía
nada diferente al PDF oficial. Quería una página que mostrara solo una artículo
a la vez, y las modificaciones de cada artículo a lo largo del tiempo. Pero eso
implicaba escribir mi propio [Writer de HTML en
Docutils](https://docutils.sourceforge.io/docs/user/html.html), algo en lo que
no quería invertir tiempo.

En particular, necesitaba que el HTML generado envolviera cada artículo en una
etiqueta `<section>`, para poder aplicar CSS por artículo. El Writer HTML5 de
Docutils solo envuelve en `<section>` lo que tiene un título como primer
elemento. Al convertir la CPEUM en reStructuredText, debido a su anidado
arbitrario, no pude que los artículos tuvieran título propio, solo un número en
negritas dentro de un párrafo. Además, cada artículo es un archivo incluido en
el documento principal mediante la directiva `.. include::`.

## IA generativa

Mi postura ante la IA generativa ha estado entre el escepticismo y el rechazo,
no por la tecnología en sí, sino por su uso y desarrollo en el sistema
capitalista. Dos de sus problemas más preocupantes para mí son: su entrenamiento
se basa en plagio masivo, y su alto consumo energético, especialmente durante la
fase de entrenamiento. Aun así, no quería rechazarla sin experimentar sus
posibles beneficios, sobre todo en programación.

Hoy existen LLM gratuitas, pero las más conocidas son de pago. Por razones
geopolíticas, abrí una cuenta en [Deepseek](https://chat.deepseek.com) y cargué
10 USD (en 4 meses de uso he gastado 1.79 USD). Pronto vi que interactuar con
LLM por una interfaz web era limitado. Así que probé *asistentes con AI para
programación en pareja*, programas con interfaz de terminal que permiten pedir a
las LLM que generen código dentro del contexto de un proyecto. Elegí
[Aider](https://aider.chat/) porque me da más confianza Python que otras
opciones en JavaScript. Para aprender, retomé mi idea del Writer de HTML5 para
la CPEUM.

<!-- pyml disable-next-line line-length, no-inline-html-->
<figure class="center">
<video autoplay loop muted playsinline preload="metadata" width="70%">
<source src="https://aider.chat//assets/shell-cmds-small.mp4" type="video/mp4">
Tu navegador no soporta vídeo.
</video>
<figcaption class="center">Aider en acción</figcaption>
</figure>

Mi primer *prompt* fue general y vago:

> Create a python script, using Docutils, that implements a HTML5 writer where
> each include directive is wrapped by a section tag

Generó un script, aunque no funcionaba. Pero el código apuntaba en la dirección
correcta. Fui mejorando el *prompt*, haciéndolo más específico y usando el
contexto del código existente para evitar errores. En una tarde, tenía mi
[rst2html5.py](https://github.com/ceyusa/constitucion-mexicana/blob/main/scripts/rst2html5.py).
Luego pedí que cada sección mostrara el historial de Git del artículo, con
enlaces al *commit* correspondiente en GitHub.

Entusiasmado, añadí CSS con Aider para que solo se mostrara un artículo a la vez
y mejorar la legibilidad del sitio.

## Conclusión

En conclusión, me divertí mucho haciendo ese script. Sentí que tenía tiempo para
retomar proyectos personales. He seguido usando Aider, aunque pronto encontré
sus límites (por ejemplo, trabajar con repositorios grandes como
[WebKit](https://github.com/WebKit/WebKit)). Pasé del rechazo al escepticismo:
aún desconfío mucho del código que genera. Como mantenedor de un proyecto grande
de software libre ([GStreamer](https://gstreamer.freedesktop.org/)), hay que estar
mśa atento a solicitudes de cambio generadas por LLM sin supervisión del supuesto
autor, dejando toda la responsabilidad a los revisores. Por eso apoyo decisiones
de proyectos como [Servo](https://servo.org/), que [rechazan contribuciones
hechas con IA
generativa](https://book.servo.org/contributing/getting-started.html#ai-contributions).
O [Curl](https://curl.se), cuyo mantenedor principal, cuando se topa con alguna
contribución errónea hecha con AI generativa, veta para siempre al autor de dicha
contribución.
