{% import "macros/post.html" as post_macros %}
{% import "macros/og.html" as og_macros %}
{% import "macros/edit.html" as edit_macros %}

<!DOCTYPE html>
<html lang="es">
    <head>
        <meta charset=utf-8  />
        <!-- Enable responsiveness on mobile devices-->
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  {% if page %}
    {% if page.description %}
        <meta name="description" content="{{ page.description }}" />
    {% elif config.description %}
        <meta name="description" content="{{ config.description }}" />
    {% endif %}
  {% elif config.description %}
        <meta name="description" content="{{ config.description }}" />
  {% endif %}

        {{ og_macros::open_graph(config=config) }}

        <title>{% block title %}{{ config.title }}{% endblock title %}</title>

  {% if config.generate_feed %}
    {% for feed_filename in config.feed_filenames %}
        <link rel="alternate" type={% if feed_filename == "atom.xml" %}"application/atom+xml"{% else %}"application/rss+xml"{% endif %} title={% if feed_filename == "atom.xml" %}"atom"{% else %}"RSS"{% endif %} href="{{ get_url(path=feed_filename) | safe }}" />
    {% endfor %}
  {% endif %}

        <link rel="stylesheet" href="{{ get_url(path='glib.css', trailing_slash=false) }}" />
        <link rel="shortcut icon" href="{{ get_url(path='favicon.ico', trailing_slash=false) }}" />
        <link type="text/plain" rel="author"  href="{{ get_url(path='humans.txt', trailing_slash=false) }}">

        <script type="text/javascript">
            var _paq = _paq || [];
            _paq.push(["disableCookies"]);
            _paq.push(["trackPageView"]);
            _paq.push(["enableLinkTracking"]);
            (function() {
                 var u = "https://www.ceyusa.com/analytics/";
                 _paq.push(["setTrackerUrl", u + "piwik.php"]);
                 _paq.push(["setSiteId", "2"]);
                 var d = document, g = d.createElement("script"), s = d.getElementsByTagName("script")[0];
                 g.type = "text/javascript";
                 g.defer = true;
                 g.async = true;
                 g.src = u + "piwik.js";
                 s.parentNode.insertBefore(g, s);
             })();
        </script>
        <script src="https://glib.org.mx/comments/js/count.min.js"></script>
    </head>

    <body>
        <div class="main__header">
            <h1 title="{{ config.title }}">
                {{ config.title }}
            </h1>
            <nav>
                <ul>
                    <li>
                        <a rel="bookmark" title="Inicio" href="{{ config.base_url | safe }}">
                            <svg width="25" height="25" viewBox="0 0 495.398 495.398" fill="none" stroke="currentColor" stroke-width="20" stroke-linecap="round" xmlns="http://www.w3.org/2000/svg">
			                          <path d="M487.083,225.514l-75.08-75.08V63.704c0-15.682-12.708-28.391-28.413-28.391c-15.669,0-28.377,12.709-28.377,28.391
				                                 v29.941L299.31,37.74c-27.639-27.624-75.694-27.575-103.27,0.05L8.312,225.514c-11.082,11.104-11.082,29.071,0,40.158
				                                 c11.087,11.101,29.089,11.101,40.172,0l187.71-187.729c6.115-6.083,16.893-6.083,22.976-0.018l187.742,187.747
				                                 c5.567,5.551,12.825,8.312,20.081,8.312c7.271,0,14.541-2.764,20.091-8.312C498.17,254.586,498.17,236.619,487.083,225.514z"/>
			                          <path d="M257.561,131.836c-5.454-5.451-14.285-5.451-19.723,0L72.712,296.913c-2.607,2.606-4.085,6.164-4.085,9.877v120.401
				                                 c0,28.253,22.908,51.16,51.16,51.16h81.754v-126.61h92.299v126.61h81.755c28.251,0,51.159-22.907,51.159-51.159V306.79
				                                 c0-3.713-1.465-7.271-4.085-9.877L257.561,131.836z"/>
                            </svg>

                        </a>
                    </li>
  {% for taxonomy in config.taxonomies | sort(attribute="name") %}
    {% set permalink = config.base_url ~ "/" ~ taxonomy.slug | safe %}
                    <li>
                        <a title="{{ taxonomy.name | capitalize }}" href="{{ permalink | safe }}">
                            {{ taxonomy.name | capitalize }}
                        </a>
                    </li>
  {% endfor %}
                    <li>
                        <a rel="bookmark" title="Contribuir" href="{{ config.base_url ~ '/' ~ 'contribuir' | safe }}">
                            Contribuir
                        </a>
                    </li>
                    <li>
                        <a rel="me external noopener noreferrer nofollow" title="GitHub" href="https://github.com/gliborgmx">
                            GitHub
                        </a>
                    </li>
                    <li>
                        <a rel="me external noopener noreferrer nofollow" title="Mastodon" href="https://floss.social/@glib">
                            Mastodon
                        </a>
                    </li>
  {% if config.generate_feed %}
    {% for feed_filename in config.feed_filenames %}
                    <li>
                        <a rel="alternate" type={% if feed_filename == "atom.xml" %}"application/atom+xml"{% else %}"application/rss+xml"{% endif %} title={% if feed_filename == "atom.xml" %}"Atom"{% else %}"RSS"{% endif %} href="{{ get_url(path=feed_filename) | safe }}">
                            {% if feed_filename == "atom.xml" %}Atom{% else %}RSS{% endif %}
                        </a>
                    </li>
    {% endfor %}
  {% endif %}
                    <li>
                        <div role="search" aria-label="Sitewide" class="caja-de-busqueda">
                            <input type="search" id="busqueda" placeholder="búsqueda" />
                            <div class="resultados-busqueda">
                                <div class="resultados-busqueda__items"></div>
                            </div>
                        </div>
                    </li>
                </ul>
            </nav>
        </div>

        <main aria-label="Content">
  {% block content %}
    {% for page in paginator.pages %}
            <article>
                {{ post_macros::title(page=page) }}
      {% if page.summary %}
                {{ page.summary | safe }}
      {% else %}
                {{ page.content | safe }}
      {% endif %}
                <footer>
                    <nav>
                        <ul>
                            <li>
                                <a href="{{ page.permalink | safe }}#isso-thread" data-isso-lang="es" data-isso-id="{{ page.path | trim_end_matches(pat='/') | safe }}">
                                    comentarios
                                </a>
                            </li>
      {% if page.summary %}
                            <li>
                                |
                            </li>
                            <li>
                                <a href="{{ page.permalink | safe }}">
                                    Continuar leyendo…
                                </a>
                            </li>
      {% endif %}
                            <li>
                                |
                            </li>
                            <li>
                                {{ edit_macros::edit(page=page) }}
                            </li>
                        </ul>
                    </nav>
                </footer>
            </article>
    {% endfor %}

            <nav>
                <ul>
    {% if paginator.previous %}
                    <li>
                        <a href="{{ paginator.first | safe }}">
                            «
                        </a>
                    </li>
                    <li>
                        <a rel="prev" href="{{ paginator.previous | safe }}">
                            ‹ Anterior
                        </a>
                    </li>
    {% else %}
                    <li>
                        «
                    </li>
                    <li>
                        ‹ Anterior
                    </li>
    {% endif %}
                    <li>
                        | {{ paginator.current_index}} de {{ paginator.number_pagers }} |
                    </li>
    {% if paginator.next %}
                    <li>
                        <a rel="next" href="{{ paginator.next | safe }}">
                            Siguiente ›
                        </a>
                    </li>
                    <li>
                        <a href="{{ paginator.last | safe }}">
                            »
                        </a>
                    </li>
    {% else %}
                    <li>
                        Siguiente ›
                    </li>
                    <li>
                        »
                    </li>
    {% endif %}
                </ul>
            </nav>
  {% endblock content %}
        </main>

  {% block footer %}
        <footer class="main__footer" role="contentinfo">
            <p xmlns:cc="http://creativecommons.org/ns#" >This work is licensed under <a href="http://creativecommons.org/licenses/by/4.0/?ref=chooser-v1" target="_blank" rel="license noopener noreferrer" style="display:inline-block;">CC BY 4.0<img style="height:22px!important;margin-left:3px;vertical-align:text-bottom;" src="https://mirrors.creativecommons.org/presskit/icons/cc.svg?ref=chooser-v1"><img style="height:22px!important;margin-left:3px;vertical-align:text-bottom;" src="https://mirrors.creativecommons.org/presskit/icons/by.svg?ref=chooser-v1"></a></p>
            <p>Desarrollado con <a rel="external  noopener noreferrer nofollow" href="https://www.getzola.org/">Zola</a> y <a rel="external noopener noreferrer nofollow" href="https://picocss.com/">PicoCSS</a>.</p>
        </footer>
  {% endblock footer %}

        <script type="text/javascript" src="{{ get_url(path='elasticlunr.min.js') }}"></script>
        <script type="text/javascript" src="{{ get_url(path='lunr.stemmer.support.js') }}"></script>
        <script type="text/javascript" src="{{ get_url(path='lunr.es.js') }}"></script>
        <script type="text/javascript" src="{{ get_url(path='search.js') }}"></script>
    </body>
</html>
